"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("@babel/runtime/helpers/defineProperty"),r=require("./Pass.cjs.js"),s=require("three"),i=require("../shaders/FilmShader.cjs.js");function t(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var a=t(e);class n extends r.Pass{constructor(e,t,n,u){super(),a.default(this,"material",void 0),a.default(this,"fsQuad",void 0),a.default(this,"uniforms",void 0),void 0===i.FilmShader&&console.error("THREE.FilmPass relies on FilmShader");const d=i.FilmShader;this.uniforms=s.UniformsUtils.clone(d.uniforms),this.material=new s.ShaderMaterial({uniforms:this.uniforms,vertexShader:d.vertexShader,fragmentShader:d.fragmentShader}),void 0!==u&&(this.uniforms.grayscale.value=u),void 0!==e&&(this.uniforms.nIntensity.value=e),void 0!==t&&(this.uniforms.sIntensity.value=t),void 0!==n&&(this.uniforms.sCount.value=n),this.fsQuad=new r.FullScreenQuad(this.material)}render(e,r,s,i){this.uniforms.tDiffuse.value=s.texture,this.uniforms.time.value+=i,this.renderToScreen?(e.setRenderTarget(null),this.fsQuad.render(e)):(e.setRenderTarget(r),this.clear&&e.clear(),this.fsQuad.render(e))}}exports.FilmPass=n;
